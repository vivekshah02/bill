<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Bill Status</title>
</head>

<body>
    <h1>Update Bill Status</h1>
    <!-- Form for entering the Bill ID -->
    <form th:action="@{/bill/status}" method="get">
        <label for="billId">Enter Bill ID:</label>
        <input type="number" id="billId" name="billId" placeholder="Enter Bill ID" required>
        <button type="submit">Fetch Bill</button>
    </form>

    <div th:if="${bill != null}">
        <h2>Bill Details</h2>
        <form th:action="@{/bill/update/{billId}(billId=${bill.billId})}" method="post">
            <p><strong>Bill ID:</strong> <span th:text="${bill.billId}"></span></p>
            <p><strong>Consultation Fees:</strong> <span th:text="${bill.consultationFees}"></span></p>
            <p><strong>Medicine Fees:</strong> <span th:text="${bill.medicineFees}"></span></p>
            <p><strong>Test Charges:</strong> <span th:text="${bill.testCharges}"></span></p>
            <p><strong>Payment Status:</strong>
                <select name="paymentstatus" required>
                    <option th:value="paid" th:text="'Paid'" th:selected="${bill.paymentstatus == 'paid'}"></option>
                    <option th:value="unpaid" th:text="'Unpaid'" th:selected="${bill.paymentstatus == 'unpaid'}"></option>
                    <option th:value="partially_paid" th:text="'Partially Paid'" th:selected="${bill.paymentstatus == 'partially_paid'}"></option>
                </select>
            </p>
            <button type="submit">Update Status</button>
        </form>
    </div>
</body>

</html>
